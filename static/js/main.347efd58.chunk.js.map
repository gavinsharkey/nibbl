{"version":3,"sources":["reducers/rootReducer.js","reducers/currentUserReducer.js","reducers/isLoggedInReducer.js","reducers/isLoadingReducer.js","reducers/postsReducer.js","reducers/postReducer.js","reducers/commentsReducer.js","reducers/userReducer.js","reducers/searchReducer.js","reducers/usersToFollowReducer.js","concerns/fetchable.js","actions/currentUserActions.js","components/Welcome.js","components/Login.js","components/SignUp.js","components/Home.js","components/SearchInput.js","components/SearchItem.js","components/SearchItems.js","components/SearchContainer.js","actions/searchActions.js","components/NavBar.js","components/PostButtons.js","components/PostHeader.js","components/Post.js","components/PostsScrollView.js","actions/postsActions.js","components/Loading.js","components/FeedPostForm.js","components/UserToFollow.js","components/UsersToFollowContainer.js","actions/usersToFollowActions.js","components/FeedContainer.js","components/Comment.js","components/CommentsScrollView.js","components/CommentForm.js","components/CommentsContainer.js","actions/commentsActions.js","components/PostContainer.js","actions/postActions.js","components/UserEditForm.js","actions/userActions.js","components/UserHeader.js","components/UserContainer.js","components/Dashboard.js","App.js","index.js"],"names":["combineReducers","currentUser","state","action","type","user","display_name","bio","likes","like","filter","id","given_follows","follow","isLoggedIn","isLoading","postsData","posts","currentPage","loadingLike","loadingPosts","loadingMorePosts","noMorePosts","page","post","map","post_id","postData","postNotFound","loadingPost","commentsData","loadingComments","comments","comment","userData","loadingUser","loadingFollow","userNotFound","followers_count","searchData","isSearching","users","usersToFollowData","fetchWithCredentials","url","a","method","body","options","credentials","JSON","stringify","headers","fetch","response","json","console","log","loginUser","Welcome","className","style","fontStyle","to","Component","Login","email","password","error","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","then","logged_in","props","history","push","prevState","this","onSubmit","htmlFor","onChange","placeholder","connect","dispatch","SignUp","username","password_confirmation","errors","onSecondPage","usernameTaken","form","React","createRef","prevProps","username_taken","ref","required","Home","exact","path","component","render","SearchInput","SearchItem","onClick","clearSearchBar","SearchItems","zIndex","SearchContainer","search","clearSearch","query","currentUserId","handleLogout","PostButtons","isLiked","find","user_id","unlikePost","length","likePost","postId","PostHeader","time_created_string","currentUserLikes","content","PostsScrollView","prevY","handleScroll","entities","y","boundingClientRect","handleLoadMore","loadMoreArea","observer","IntersectionObserver","root","rootMargin","threshold","observe","loadingRef","key","likeId","Loading","FeedPostForm","invalidForm","reportValidity","createPost","noValidate","maxLength","UserToFollow","currentUserFollows","followUser","unfollowUser","handleUnfollow","followed_user_id","UsersToFollowContainer","fetchUsersToFollow","userId","followId","FeedContainer","fetchMoreFeed","fetchFeed","Comment","deleteButton","destroyComment","CommentsScrollView","CommentForm","createComment","CommentsContainer","fetchComments","status","commentId","PostContainer","fetchPost","match","params","UserEditForm","displayName","updateUser","setIsEditing","data","UserHeader","useState","isEditing","handleFollow","isFollowed","isCurrentUser","followings_count","UserContainer","fetchMorePostsByUser","fetchPostsByUser","fetchUser","Dashboard","logged_out","logoutUser","App","checkLoggedInStatus","renderedComponent","store","createStore","rootReducer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.347efd58.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\r\nimport currentUser from './currentUserReducer'\r\nimport isLoggedIn from './isLoggedInReducer'\r\nimport isLoading from './isLoadingReducer'\r\nimport postsData from './postsReducer'\r\nimport postData from './postReducer'\r\nimport commentsData from './commentsReducer'\r\nimport userData from './userReducer'\r\nimport searchData from './searchReducer'\r\nimport usersToFollowData from './usersToFollowReducer'\r\n\r\nexport default combineReducers({\r\n  currentUser,\r\n  isLoggedIn,\r\n  isLoading,\r\n  postsData,\r\n  postData,\r\n  commentsData,\r\n  userData,\r\n  searchData,\r\n  usersToFollowData\r\n})","export default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_CURRENT_USER':\r\n      return state\r\n    case 'LOGIN_USER':\r\n      return action.user\r\n    case 'UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        display_name: action.user.display_name,\r\n        bio: action.user.bio\r\n      }\r\n    case 'LIKE_POST':\r\n      return {\r\n        ...state,\r\n        likes: [...state.likes, action.like]\r\n      }\r\n    case 'LIKE_SINGLE_POST':\r\n      return {\r\n        ...state,\r\n        likes: [...state.likes, action.like]\r\n      }\r\n    case 'UNLIKE_POST':\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(like => like.id !== action.like.id)\r\n      }\r\n    case 'UNLIKE_SINGLE_POST':\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(like => like.id !== action.like.id)\r\n      }\r\n    case 'FOLLOW_USER':\r\n      return {\r\n        ...state,\r\n        given_follows: [...state.given_follows, action.follow]\r\n      }\r\n    case 'UNFOLLOW_USER':\r\n      return {\r\n        ...state,\r\n        given_follows: state.given_follows.filter(follow => follow.id !== action.id)\r\n      }\r\n    case 'LOGOUT_USER':\r\n      return {}\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = false, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_CURRENT_USER':\r\n      return state\r\n    case 'LOGIN_USER':\r\n      return true\r\n    case 'LOGOUT_USER':\r\n      return false\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = true, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_CURRENT_USER':\r\n      return true\r\n    case 'LOGIN_USER':\r\n      return false\r\n    case 'LOGOUT_USER':\r\n      return false\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  posts: [],\r\n  currentPage: 0,\r\n  loadingLike: false,\r\n  loadingPosts: false,\r\n  loadingMorePosts: false,\r\n  noMorePosts: false\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingPosts: true\r\n      }\r\n    case 'LOADING_MORE_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingMorePosts: true\r\n      }\r\n    case 'SET_POSTS':\r\n      return  {\r\n        ...state,\r\n        currentPage: 0,\r\n        posts: action.posts,\r\n        loadingPosts: false,\r\n        loadingMorePosts: false,\r\n        noMorePosts: false\r\n      }\r\n    case 'ADD_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingMorePosts: false,\r\n        currentPage: action.page,\r\n        posts: [...state.posts, ...action.posts]\r\n      }\r\n    case 'ADD_POST':\r\n      return {\r\n        ...state,\r\n        posts: [ action.post, ...state.posts ]\r\n      }\r\n    case 'LOADING_LIKE':\r\n      return {\r\n        ...state,\r\n        loadingLike: true,\r\n        posts: [ ...state.posts ]\r\n      }\r\n    case 'LIKE_POST':\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map(post => {\r\n          if (post.id === action.id) {\r\n            return {\r\n              ...post,\r\n              user: { ...post.user },\r\n              likes: [...post.likes, action.like]\r\n            }\r\n          } else {\r\n            return post\r\n          }\r\n        }),\r\n        loadingLike: false,\r\n      }\r\n    case 'UNLIKE_POST':\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map(post => {\r\n          if (post.id === action.like.post_id) {\r\n            return {\r\n              ...post,\r\n              user: { ...post.user },\r\n              likes: post.likes.filter(like => like.id !== action.like.id)\r\n            }\r\n          } else {\r\n            return post\r\n          }\r\n        }),\r\n        loadingLike: false\r\n      }\r\n    case 'NO_MORE_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingMorePosts: false,\r\n        noMorePosts: true\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  postNotFound: false,\r\n  loadingLike: false,\r\n  loadingPost: true,\r\n  post: {}\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_POST':\r\n      return {\r\n        loadingPost: true,\r\n        loadingLike: false,\r\n        postNotFound: false,\r\n        post: state.post\r\n      }\r\n    case 'SET_POST':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: action.post\r\n      }\r\n    case 'LOADING_SINGLE_LIKE':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: true,\r\n        loadingPost: false,\r\n        post: {\r\n            ...state.post,\r\n            user: { ...state.post.user },\r\n            likes: [...state.post.likes]\r\n          }\r\n        }\r\n    case 'LIKE_SINGLE_POST':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: {\r\n          ...state.post,\r\n          user: { ...state.post.user },\r\n          likes: [...state.post.likes, action.like]\r\n        }\r\n      }\r\n    case 'UNLIKE_SINGLE_POST':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: {\r\n          ...state.post,\r\n          user: { ...state.post.user },\r\n          likes: state.post.likes.filter(like => like.id !== action.like.id)\r\n        }\r\n      }\r\n    case 'POST_NOT_FOUND':\r\n      return {\r\n        postNotFound: true,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: {}\r\n      }\r\n     default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  loadingComments: true,\r\n  comments: []\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_COMMENTS':\r\n      return {\r\n        loadingComments: true,\r\n        comments: [...state.comments]\r\n      }\r\n    case 'SET_COMMENTS':\r\n      return {\r\n        loadingComments: false,\r\n        comments: action.comments\r\n      }\r\n    case 'ADD_COMMENT':\r\n      return {\r\n        loadingComments: false,\r\n        comments: [action.comment, ...state.comments]\r\n      }\r\n    case 'DELETE_COMMENT':\r\n      return {\r\n        loadingComments: false,\r\n        comments: state.comments.filter(comment => comment.id !== action.id)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  loadingUser: true,\r\n  loadingFollow: false,\r\n  userNotFound: false,\r\n  user: {}\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_USER':\r\n      return {\r\n        ...state,\r\n        loadingUser: true,\r\n        user: state.user\r\n      }\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        loadingUser: false,\r\n        user: action.user\r\n      }\r\n    case 'UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        loadingUser: false,\r\n        user: {\r\n          ...state.user,\r\n          display_name: action.user.display_name,\r\n          bio: action.user.bio\r\n        }\r\n      }\r\n    case 'LOADING_FOLLOW':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: true,\r\n        userNotFound: false,\r\n        user: state.user\r\n      }\r\n    case 'SET_FOLLOW':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: false,\r\n        userNotFound: false,\r\n        user: {\r\n          ...state.user,\r\n          followers_count: state.user.followers_count + 1\r\n        }\r\n      }\r\n    case 'SET_UNFOLLOW':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: false,\r\n        userNotFound: false,\r\n        user: {\r\n          ...state.user,\r\n          followers_count: state.user.followers_count - 1\r\n        }\r\n      }\r\n    case 'USER_NOT_FOUND':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: false,\r\n        userNotFound: true,\r\n        user: state.user\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  isSearching: false,\r\n  users: []\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'SET_SEARCH':\r\n      return {\r\n        isSearching: true,\r\n        users: action.users\r\n      }\r\n    case 'CLEAR_SEARCH':\r\n      return {\r\n        isSearching: false,\r\n        users: []\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  users: []\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'SET_USERS_TO_FOLLOW':\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","async function fetchWithCredentials(url, method = 'GET', body = {}) {\r\n  const options = {\r\n      credentials: 'include'\r\n  }\r\n\r\n  if (method !== 'GET') {\r\n      options.body = JSON.stringify(body)\r\n      options.headers = {'Content-Type': 'application/json'}\r\n      options.method = method\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(url, options)\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchWithCredentials\r\n}","import { fetchWithCredentials } from '../concerns/fetchable'\r\n\r\nconst checkLoggedInStatus = () => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_CURRENT_USER'})\r\n    fetchWithCredentials('https://nibbl.live/api/v1/logged_in')\r\n    .then(json => {\r\n      if (json.logged_in) {\r\n        dispatch({type: 'LOGIN_USER', user: json.user})\r\n      } else {\r\n        dispatch({type: 'LOGOUT_USER'})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst loginUser = user => {\r\n  return {type: 'LOGIN_USER', user}\r\n}\r\n\r\nconst logoutUser = () => {\r\n  return {type: 'LOGOUT_USER'}\r\n}\r\n\r\nexport {\r\n  checkLoggedInStatus,\r\n  loginUser,\r\n  logoutUser\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom' \r\n\r\nexport default class Welcome extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex flex-column justify-content-center m-5\">\r\n        <h1>Welcome To NibbL</h1>\r\n        <p style={{fontStyle: 'italic'}}>Lets Keep It Short</p>\r\n        <div className=\"btn-group\">\r\n          <Link className=\"link-button\" to=\"/login\">Login</Link>\r\n          <Link className=\"link-button\" to=\"/signup\">Sign Up</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { fetchWithCredentials } from '../concerns/fetchable'\r\nimport { loginUser } from '../actions/currentUserActions'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    error: ''\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    fetchWithCredentials('https://nibbl.live/api/v1/login', 'POST', {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    })\r\n    .then(json => {\r\n      if (json.logged_in) {\r\n        this.props.loginUser(json.user)\r\n        this.props.history.push('/')\r\n      } else {\r\n        this.setState(prevState => {\r\n          return { ...prevState, error: json.error }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { email, password, error} = this.state\r\n    return (\r\n      <div className=\"registration w-25 p-4 mx-auto my-4\">\r\n        <h3>Login</h3>\r\n        { error ? <p className=\"error\">{error}</p> : null }\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email: </label>\r\n            <input onChange={this.handleChange} type=\"email\" name=\"email\" value={email} placeholder=\"Enter Email\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password: </label>\r\n            <input onChange={this.handleChange} type=\"password\" name=\"password\" value={password} placeholder=\"Enter Password\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <button type=\"submit\" className=\"btn form-btn\">Login</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loginUser: user => dispatch(loginUser(user))\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login)\r\n","import React, { Component } from 'react'\r\nimport { fetchWithCredentials } from '../concerns/fetchable'\r\nimport { loginUser } from '../actions/currentUserActions'\r\nimport { connect } from 'react-redux'\r\n\r\nclass SignUp extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      password_confirmation: '',\r\n      display_name: '',\r\n      bio: '',\r\n      errors: [],\r\n      usernameTaken: false\r\n    }\r\n    this.form = React.createRef()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.username !== this.state.username) {\r\n      fetchWithCredentials(`https://nibbl.live/api/v1/users/exists?username=${this.state.username}`)\r\n      .then(json => {\r\n        this.setState({\r\n          usernameTaken: json.username_taken\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    const user = {\r\n      username: this.state.username,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      password_confirmation: this.state.password_confirmation,\r\n      display_name: this.state.display_name,\r\n      bio: this.state.bio\r\n    }\r\n\r\n    fetchWithCredentials('https://nibbl.live/api/v1/users', 'POST', {user})\r\n    .then(json => {\r\n      if (json.logged_in) {\r\n        this.props.loginUser(json.user)\r\n        this.props.history.push('/')\r\n      } else {\r\n        this.setState(prevState => {\r\n          return { ...prevState, errors: json.errors, onSecondPage: false }\r\n        })\r\n      }\r\n    })\r\n    // const formData = new FormData(this.form.current)\r\n\r\n    // fetch('httpss://localhost:3001/api/v1/users', {\r\n    //   method: 'POST',\r\n    //   credentials: 'include',\r\n    //   body: formData\r\n    // })\r\n  }\r\n\r\n  render() {\r\n    const { username, email, display_name, password, password_confirmation, bio, usernameTaken} = this.state\r\n    return (\r\n      <div>\r\n        <form ref={this.form} className=\"d-flex justify-content-center flex-row\" onSubmit={this.handleSubmit}>\r\n          <div className=\"registration w-50 p-4 mx-2 my-4\">\r\n            <h3>Sign Up</h3>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"username\">Username: </label>\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">@</span>\r\n                  </div>\r\n                  <input onChange={this.handleChange} type=\"text\" name=\"username\" value={username} placeholder=\"Enter Username\" className={`form-control p-2 ${usernameTaken ? 'is-invalid' : null}`} required/>\r\n                </div>\r\n                {usernameTaken ? <small>Username Taken</small> : null}\r\n              </div>\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"email\">Email: </label>\r\n                <input onChange={this.handleChange} type=\"email\" name=\"email\" value={email} placeholder=\"Enter Email\" className=\"form-control p-2\" required />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"password\">Password: </label>\r\n                <input onChange={this.handleChange} type=\"password\" name=\"password\" value={password} placeholder=\"Enter Password\" className=\"form-control p-2\" required/>\r\n              </div>\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"password_confirmation\">Password Confirmation: </label>\r\n                <input onChange={this.handleChange} type=\"password\" name=\"password_confirmation\" value={password_confirmation} placeholder=\"Enter Password Confirmation\" className=\"form-control p-2\" required />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btn btn-secondary\" value=\"Sign Up\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"registration w-25 p-4 mx-2 my-4\">\r\n            <h3>Personal Info</h3>\r\n            <div className=\"form-group\">\r\n              <label>Display Name: </label>\r\n              <input onChange={this.handleChange} type=\"text\" name=\"display_name\" value={display_name} className=\"form-control p-2\" />\r\n              <small>This is separate from your username and can be changed later.</small>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Bio: </label>\r\n              <textarea onChange={this.handleChange} name=\"bio\" value={bio} className=\"form-control p-2\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loginUser: user => dispatch(loginUser(user))\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUp)\r\n","import React, { Component } from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport Welcome from './Welcome'\r\nimport Login from './Login'\r\nimport SignUp from './SignUp'\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"jumbotron jumbotron-fluid my-5\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Welcome} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <Route path=\"/:else\" render={() => <Redirect to=\"/\" />} />\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class SearchInput extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input onChange={e => this.props.handleChange(e.target.value)} value={this.props.value} type=\"text\" className=\"form-control p-2\" placeholder=\"Search\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function SearchItem(props) {\r\n  const { user } = props\r\n  return (\r\n    <li className=\"list-group-item\">\r\n      <Link onClick={() => props.clearSearchBar()} to={`/users/${user.id}`}>\r\n        <span><strong>{user.display_name}</strong> <small>@{user.username}</small></span>\r\n      </Link>\r\n    </li>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport SearchItem from './SearchItem'\r\n\r\nexport default function SearchItems(props) {\r\n  const { users } = props.searchData\r\n  return (\r\n    <div style={{zIndex: 1}} className=\"position-absolute\">\r\n      <ul className='list-group'>\r\n        {users.map(user => (\r\n          <SearchItem clearSearchBar={props.clearSearchBar} user={user} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { search, clearSearch } from '../actions/searchActions'\r\nimport SearchInput from './SearchInput'\r\nimport SearchItems from './SearchItems'\r\n\r\nclass SearchContainer extends Component {\r\n  state = {\r\n    value: ''\r\n  }\r\n\r\n  handleChange = value => {\r\n    if (value) {\r\n      this.props.search(value)\r\n    } else {\r\n      this.props.clearSearch()\r\n    }\r\n    \r\n    this.setState({\r\n      value\r\n    })\r\n  }\r\n\r\n  clearSearchBar = () => {\r\n    this.setState({\r\n      value: ''\r\n    })\r\n    this.props.clearSearch()\r\n  }\r\n\r\n  render() {\r\n    const { searchData } = this.props\r\n    return (\r\n      <div className=\"position-relative float-right mx-2\">\r\n        <SearchInput value={this.state.value} handleChange={this.handleChange} />\r\n        <SearchItems clearSearchBar={this.clearSearchBar} searchData={searchData} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    searchData: state.searchData\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { search, clearSearch })(SearchContainer)\r\n","import { fetchWithCredentials } from '../concerns/fetchable'\r\n\r\nconst search = query => {\r\n  return dispatch => {\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/users/search?query=${query}`)\r\n    .then(json => dispatch({type: 'SET_SEARCH', users: json}))\r\n  }\r\n}\r\n\r\nconst clearSearch = () => {\r\n  return {type: 'CLEAR_SEARCH'}\r\n}\r\n\r\nexport {\r\n  search,\r\n  clearSearch\r\n}","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport SearchContainer from './SearchContainer'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction NavBar(props) {\r\n  return (\r\n    <header className=\"p-2 px-4 mynavbar\">\r\n      <div className=\"clearfix\">\r\n        <button onClick={() => props.handleLogout()} className='btn btn-outline-dark'>Logout</button>\r\n        <NavLink exact to=\"/\" className=\"float-right mx-1 btn btn-outline-dark\">Feed</NavLink>\r\n        <NavLink to={`/users/${props.currentUserId}`} className=\"float-right mx-1 btn btn-outline-dark\">Profile</NavLink>\r\n        <SearchContainer />\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserId: state.currentUser.id\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(NavBar)\r\n","import React from 'react'\r\n\r\nexport default function PostButtons(props) {\r\n  const handleLike = () => {\r\n    if (!props.loadingLike) {\r\n      props.likePost(props.postId)\r\n    }\r\n  }\r\n\r\n  const handleUnlike = () => {\r\n    const like = props.likes.find(like => like.user_id === props.currentUserId)\r\n    if (!props.loadingLike) {\r\n      props.unlikePost(like.id)\r\n    }\r\n  }\r\n\r\n  if (props.isLiked) {\r\n    return (\r\n      <div className='post-buttons p-2'>\r\n        <button onClick={handleUnlike} className=\"btn post-button liked\">Unlike {props.likes.length}</button>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className='post-buttons p-2'>\r\n        <button onClick={handleLike} className=\"btn post-button unliked\">Like {props.likes.length}</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function PostHeader(props) {\r\n  const { time_created_string, user: { id, display_name, username } } = props\r\n  return (\r\n    <div className=\"clearfix post-header h-25\">\r\n      <div className=\"float-left mx-2\">\r\n        <Link to={`/users/${id}`}>\r\n          <h5>\r\n            {display_name}\r\n            <small>{` @${username}`}</small>\r\n            <br />\r\n            <small>{time_created_string}</small>\r\n          </h5>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport PostButtons from './PostButtons'\r\nimport { connect } from 'react-redux'\r\nimport PostHeader from './PostHeader'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Post(props) {\r\n  const { currentUserId, currentUserLikes, loadingLike, likePost, unlikePost, post: { id, content, time_created_string, user, likes } } = props\r\n  const isLiked = !!currentUserLikes.find(like => like.post_id === id)\r\n  \r\n  return (\r\n    <div className=\"post container my-2 p-3 px-4 border\">\r\n        <PostHeader user={user} time_created_string={time_created_string} />\r\n        <Link to={`/posts/${id}`}>\r\n          <div className=\"post-body p-2 rounded\">\r\n            <p>{content}</p>\r\n          </div>\r\n        </Link>\r\n        <PostButtons\r\n          currentUserId={currentUserId}\r\n          postId={id}\r\n          loadingLike={loadingLike}\r\n          likes={likes}\r\n          likePost={likePost}\r\n          unlikePost={unlikePost}\r\n          isLiked={isLiked}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserId: state.currentUser.id,\r\n    currentUserLikes: state.currentUser.likes\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(Post)\r\n","import React, { Component } from 'react'\r\nimport Post from './Post'\r\n\r\nclass PostsScrollView extends Component {\r\n\r\n  state = {\r\n    prevY: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const options = {\r\n      root: null,\r\n      rootMargin: \"0px\",\r\n      threshold: 0.5\r\n    };\r\n\r\n    this.observer = new IntersectionObserver(\r\n      this.handleScroll,\r\n      options\r\n    );\r\n\r\n    this.observer.observe(this.loadingRef);\r\n  }\r\n\r\n  handleScroll = (entities) => {\r\n    const y = entities[0].boundingClientRect.y;\r\n    if (this.state.prevY > y) {\r\n      this.props.handleLoadMore()\r\n    }\r\n\r\n    this.setState({ prevY: y })\r\n  }\r\n\r\n  loadMoreArea = () => {\r\n    const { loadingMorePosts, noMorePosts } = this.props.postsData\r\n    if ( noMorePosts ) {\r\n      return <h3 className=\"text-center\">No More Posts</h3>\r\n    } else if (loadingMorePosts) {\r\n      return <h3>Loading...</h3>\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    const { likePost, unlikePost, postsData: {posts, loadingLike} } = this.props\r\n    return (\r\n      <div>\r\n        <div className=\"d-flex flex-column rounded posts\">\r\n          { posts.map(post => (\r\n            <Post likePost={likePost} unlikePost={unlikePost} loadingLike={loadingLike} key={post.id} post={post} />\r\n          )) }\r\n        </div>\r\n        <div className='mt-2 p-1' ref={loadingRef => this.loadingRef = loadingRef}>\r\n          {this.loadMoreArea()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PostsScrollView\r\n\r\n","import { fetchWithCredentials } from '../concerns/fetchable'\r\n\r\nconst fetchFeed = () => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_POSTS'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/posts?page=0`)\r\n    .then(json => {\r\n      dispatch({type: 'SET_POSTS', posts: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst fetchMoreFeed = page => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_MORE_POSTS'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/posts?page=${page}`)\r\n    .then(json => {\r\n      if (json.length === 0) {\r\n        dispatch({type: 'NO_MORE_POSTS'})\r\n      } else {\r\n        dispatch({type: 'ADD_POSTS', posts: json, page})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst fetchPostsByUser = (userId) => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_POSTS'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/posts?page=0&user_id=${userId}`)\r\n    .then(json => {\r\n      dispatch({type: 'SET_POSTS', posts: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst fetchMorePostsByUser = (userId, page) => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_MORE_POSTS'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/posts?page=${page}&user_id=${userId}`)\r\n    .then(json => {\r\n      if (json.length === 0) {\r\n        dispatch({type: 'NO_MORE_POSTS'})\r\n      } else {\r\n        dispatch({type: 'ADD_POSTS', posts: json, page})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst createPost = content => {\r\n  return dispatch => {\r\n    fetchWithCredentials('https://nibbl.live/api/v1/posts', 'POST', {\r\n      post: {\r\n        content\r\n      }\r\n    })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'ADD_POST', post: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst likePost = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_LIKE'})\r\n    fetchWithCredentials('https://nibbl.live/api/v1/likes', 'POST', { post_id: postId })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'LIKE_POST', id: json.post_id, like: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unlikePost = likeId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_LIKE'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/likes/${likeId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'UNLIKE_POST', like: json})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchFeed,\r\n  fetchMoreFeed,\r\n  fetchPostsByUser,\r\n  fetchMorePostsByUser,\r\n  likePost,\r\n  unlikePost,\r\n  createPost\r\n}","import React from 'react'\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"my-5 mx-2\">\r\n      <h1>Loading...</h1>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class FeedPostForm extends Component {\r\n  state = {\r\n    content: '',\r\n    invalidForm: false\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      content: e.target.value,\r\n      invalidForm: false\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    if (e.target.reportValidity()) {\r\n      this.props.createPost(this.state.content)\r\n      this.setState({\r\n        content: ''\r\n      })\r\n    } else {\r\n      this.setState({\r\n        invalidForm: true\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"post-form p-3 my-2 border\">\r\n        <form className={`needs-validation ${this.state.invalidForm ? 'was-validated' : null}`} onSubmit={this.handleSubmit} noValidate >\r\n          <div className=\"form-group\">\r\n            <label>Content: </label>\r\n            <textarea required maxLength={30} value={this.state.content} onChange={this.handleChange} className=\"form-control p-3\" placeholder=\"Make a post!\" />\r\n            <small>Characters Left: {30 - this.state.content.length}</small>\r\n            <div className=\"invalid-feedback\"> \r\n              Invalid Post\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"submit\" value=\"Post\" className=\"btn btn-primary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function UserToFollow(props) {\r\n  const {user, currentUserFollows, followUser, unfollowUser} = props\r\n\r\n  const handleUnfollow = () => {\r\n    const follow = currentUserFollows.find(follow => follow.followed_user_id === user.id)\r\n    unfollowUser(follow.id)\r\n  }\r\n\r\n  const followButton = () => {\r\n    if (currentUserFollows.find(follow => follow.followed_user_id === user.id)) {\r\n      return <button onClick={handleUnfollow} className=\"btn btn-sm btn-outline-secondary d-inline mx-2\">Unfollow</button>\r\n    } else {\r\n      return <button onClick={() => followUser(user.id)} className=\"btn btn-sm btn-outline-secondary d-inline mx-2\">Follow</button>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className=\"list-group-item\">\r\n      <Link to={`/users/${user.id}`}>\r\n        <span><strong>{user.display_name}</strong> <small>@{user.username}</small></span>\r\n      </Link>\r\n       {followButton()}\r\n    </li>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fetchUsersToFollow, followUser, unfollowUser } from '../actions/usersToFollowActions'\r\nimport UserToFollow from './UserToFollow'\r\n\r\nclass UsersToFollowContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchUsersToFollow()\r\n  }\r\n\r\n  render() {\r\n    const { usersToFollowData, currentUserFollows, followUser, unfollowUser } = this.props\r\n    return (\r\n      <div className=\"p-3 users-to-follow\">\r\n        <h4>Users To Follow: </h4>\r\n        <ul className=\"list-group\">\r\n          {usersToFollowData.users.map(user => (\r\n            <UserToFollow\r\n              key={user.id}\r\n              followUser={followUser}\r\n              unfollowUser={unfollowUser}\r\n              currentUserFollows={currentUserFollows}\r\n              user={user}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserFollows: state.currentUser.given_follows,\r\n    usersToFollowData: state.usersToFollowData\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {fetchUsersToFollow, followUser, unfollowUser})(UsersToFollowContainer)\r\n","import { fetchWithCredentials } from '../concerns/fetchable'\r\n\r\nconst fetchUsersToFollow = () => {\r\n  return dispatch => {\r\n    fetchWithCredentials('https://nibbl.live/api/v1/users/to_follow')\r\n    .then(json => {\r\n      dispatch({type: 'SET_USERS_TO_FOLLOW', users: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst followUser = userId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithCredentials('https://nibbl.live/api/v1/follows', 'POST', { \r\n      follow: { followed_user_id: userId } \r\n    })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'FOLLOW_USER', follow: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unfollowUser = followId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/follows/${followId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'UNFOLLOW_USER', id: json.id})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchUsersToFollow,\r\n  followUser,\r\n  unfollowUser\r\n}","import React, { Component } from 'react'\r\nimport PostsScrollView from './PostsScrollView'\r\nimport { fetchFeed, fetchMoreFeed, createPost, likePost, unlikePost } from '../actions/postsActions'\r\nimport { connect } from 'react-redux'\r\nimport Loading from './Loading'\r\nimport FeedPostForm from './FeedPostForm'\r\nimport UsersToFollowContainer from './UsersToFollowContainer'\r\n\r\nclass FeedContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchFeed()\r\n  }\r\n\r\n  handleLoadMore = () => {\r\n    const { loadingMorePosts, noMorePosts, currentPage } = this.props.postsData\r\n    if (!loadingMorePosts && !noMorePosts) {\r\n      this.props.fetchMoreFeed(currentPage + 1)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loadingPosts, postsData, createPost, likePost, unlikePost } = this.props\r\n    return (\r\n      <div className=\"mx-5 my-2\">\r\n        <h1>Feed</h1>\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-lg-8\">\r\n            <FeedPostForm createPost={createPost} />\r\n            { loadingPosts\r\n            ? <Loading />\r\n            : <PostsScrollView handleLoadMore={this.handleLoadMore} likePost={likePost} unlikePost={unlikePost} postsData={postsData} /> }\r\n            \r\n          </div>\r\n          <div className=\"d-none d-lg-block col-lg-4\"> \r\n            <UsersToFollowContainer />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postsData: state.postsData,\r\n    loadingPosts: state.postsData.loadingPosts\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchFeed, fetchMoreFeed, createPost, likePost, unlikePost })(FeedContainer)\r\n","import React from 'react'\r\n\r\nexport default function Comment(props) {\r\n  const { destroyComment, currentUserId, comment: {id, body, user_id, user: {display_name, username}} } = props\r\n  let deleteButton\r\n  if (currentUserId === user_id) {\r\n    deleteButton = (<div className='buttons float-right'>\r\n      <button onClick={() => destroyComment(id)} className=\"btn btn-sm btn-danger\">Delete</button>\r\n    </div>)\r\n  } else {\r\n    deleteButton = null\r\n  }\r\n  return (\r\n    <div className=\"comment p-2 my-2\">\r\n      {deleteButton}\r\n      <div>\r\n        <h5>{display_name} <small>{`@${username}`}</small></h5>\r\n      </div>\r\n      <p>{body}</p>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Comment from './Comment'\r\n\r\nexport default function CommentsScrollView(props) {\r\n  return (\r\n    <div className=\"comments d-flex flex-column\">\r\n      {props.comments.map(comment => (\r\n        <Comment destroyComment={props.destroyComment} currentUserId={props.currentUserId} comment={comment} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class CommentForm extends Component {\r\n  state = {\r\n    body: ''\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      body: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.props.createComment(this.props.postId, this.state.body)\r\n    this.setState({\r\n      body: ''\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"post-form rounded p-3 my-2 border\">\r\n        <h3>Comment</h3>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <input value={this.state.body} type=\"text\" onChange={this.handleChange} className=\"form-control p-1\" required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"submit\" value=\"Submit\" className=\"btn btn-primary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fetchComments, createComment, destroyComment } from '../actions/commentsActions'\r\nimport CommentsScrollView from './CommentsScrollView'\r\nimport Loading from './Loading'\r\nimport CommentForm from './CommentForm'\r\n\r\nclass CommentsContainer extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.fetchComments(this.props.postId)\r\n  }\r\n\r\n  render() {\r\n    const { currentUserId, postId, createComment, destroyComment, loadingComments, comments } = this.props\r\n    if (loadingComments) {\r\n      return <Loading />\r\n    }\r\n    return (\r\n      <div>\r\n        <CommentForm postId={postId} createComment={createComment} />\r\n        <CommentsScrollView destroyComment={destroyComment} currentUserId={currentUserId} comments={comments} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserId: state.currentUser.id,\r\n    loadingComments: state.commentsData.loadingComments,\r\n    comments: state.commentsData.comments\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchComments, createComment, destroyComment })(CommentsContainer)\r\n","import { fetchWithCredentials } from '../concerns/fetchable'\r\n\r\nconst fetchComments = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_COMMENTS'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/comments?post_id=${postId}`)\r\n    .then(json => {\r\n      dispatch({type: 'SET_COMMENTS', comments: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst createComment = (postId, body) => {\r\n  return dispatch => {\r\n    fetchWithCredentials('https://nibbl.live/api/v1/comments', 'POST', {\r\n      comment: {\r\n        post_id: postId,\r\n        body\r\n      }\r\n    })\r\n    .then(json => {\r\n      if (json.status === 200) {\r\n        dispatch({type: 'ADD_COMMENT', comment: json.comment})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst destroyComment = commentId => {\r\n  return dispatch => {\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/comments/${commentId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'DELETE_COMMENT', id: json.id})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchComments,\r\n  createComment,\r\n  destroyComment\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { fetchPost, likePost, unlikePost } from '../actions/postActions'\r\nimport Post from './Post'\r\nimport Loading from './Loading'\r\nimport CommentsContainer from './CommentsContainer'\r\n\r\nclass PostContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchPost(this.props.match.params.id)\r\n  }\r\n\r\n  render() {\r\n    const { postNotFound, loadingLike, loadingPost, likePost, unlikePost, post } = this.props\r\n    if ( postNotFound ) {\r\n      return <Redirect to='/' />\r\n    }\r\n    return (\r\n      <div className=\"mx-5 my-2 container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            { loadingPost\r\n            ? <Loading />\r\n            : <Post\r\n                post={post}\r\n                loadingLike={loadingLike}\r\n                likePost={likePost}\r\n                unlikePost={unlikePost}\r\n              />\r\n            }\r\n            <CommentsContainer postId={this.props.match.params.id} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postNotFound: state.postData.postNotFound,\r\n    loadingLike: state.postData.loadingLike,\r\n    loadingPost: state.postData.loadingPost,\r\n    post: state.postData.post,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPost, likePost, unlikePost })(PostContainer)\r\n","import { fetchWithCredentials } from '../concerns/fetchable'\r\n\r\nconst fetchPost = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_POST'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/posts/${postId}`)\r\n    .then(json => {\r\n      if (json.status === 404) {\r\n        dispatch({type: 'POST_NOT_FOUND'})\r\n      } else {\r\n        dispatch({type: 'SET_POST', post: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst likePost = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_SINGLE_LIKE'})\r\n    fetchWithCredentials('https://nibbl.live/api/v1/likes', 'POST', { post_id: postId })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'LIKE_SINGLE_POST', id: json.post_id, like: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unlikePost = likeId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_SINGLE_LIKE'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/likes/${likeId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'UNLIKE_SINGLE_POST', like: json})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchPost,\r\n  likePost,\r\n  unlikePost\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../actions/userActions'\r\n\r\nclass UserEditForm extends Component {\r\n  state = {\r\n    displayName: this.props.user.display_name,\r\n    bio: this.props.user.bio\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.props.updateUser(this.props.user.id, this.state)\r\n    this.props.setIsEditing(false)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"clearfix\">\r\n          <h1 className=\"float-left\">Edit</h1>\r\n          <button onClick={() => this.props.setIsEditing(false)} className=\"btn btn-danger float-right\">Cancel</button>\r\n        </div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Display Name: </label>\r\n            <input onChange={this.handleChange} value={this.state.displayName} type=\"text\" name=\"displayName\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Bio: </label>\r\n            <textarea onChange={this.handleChange} value={this.state.bio} name=\"bio\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"submit\" value=\"Save\" className=\"btn btn-secondary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(null, {updateUser})(UserEditForm)\r\n","import { fetchWithCredentials } from '../concerns/fetchable'\r\n\r\nconst fetchUser = userId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_USER'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/users/${userId}`)\r\n    .then(json => {\r\n      if (json.status === 404) {\r\n        dispatch({type: 'USER_NOT_FOUND'})\r\n      } else {\r\n        dispatch({type: 'SET_USER', user: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst updateUser = (userId, data) => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_USER'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/users/${userId}`, 'PATCH', {\r\n      user: {\r\n        display_name: data.displayName,\r\n        bio: data.bio\r\n      }\r\n    })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'UPDATE_USER', user: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst followUser = userId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithCredentials('https://nibbl.live/api/v1/follows', 'POST', { \r\n      follow: { followed_user_id: userId } \r\n    })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'SET_FOLLOW'})\r\n        dispatch({type: 'FOLLOW_USER', follow: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unfollowUser = followId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithCredentials(`https://nibbl.live/api/v1/follows/${followId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'SET_UNFOLLOW'})\r\n      dispatch({type: 'UNFOLLOW_USER', id: json.id})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchUser,\r\n  updateUser,\r\n  followUser,\r\n  unfollowUser\r\n}","import React, { useState } from 'react'\r\nimport UserEditForm from './UserEditForm'\r\n\r\nexport default function UserHeader(props) {\r\n  const [ isEditing, setIsEditing ] = useState(false)\r\n\r\n  const { handleFollow, handleUnfollow, currentUserFollows, currentUserId, user } = props\r\n\r\n  const isFollowed = !!currentUserFollows.find(follow => follow.followed_user_id === user.id)\r\n  const isCurrentUser = (currentUserId === user.id)\r\n\r\n  const interactionButton = () => {\r\n    if (isCurrentUser) {\r\n      return <button onClick={() => setIsEditing(true)} className=\"btn btn-secondary\">Edit Profile</button>\r\n    } else {\r\n      if (isFollowed) {\r\n        return <button onClick={handleUnfollow} className=\"btn btn-secondary\">Unfollow</button>\r\n      } else {\r\n        return <button onClick={handleFollow} className=\"btn btn-secondary\">Follow</button>\r\n      }\r\n    }\r\n  }\r\n\r\n  const renderHeaderOrForm = () => {\r\n    if (isEditing) {\r\n      return <UserEditForm setIsEditing={setIsEditing} user={user} />\r\n    } else {\r\n      return (\r\n        <>\r\n          <div className=\"user-bio float-left\">\r\n            <h1>{user.display_name} <small>@{user.username}</small></h1>\r\n            <p>{user.bio}</p>\r\n            <span className='d-inline-block mr-2'>Followers: {user.followers_count}</span>\r\n            <span className='d-inline-block mr-2'>Following: {user.followings_count}</span>\r\n          </div>\r\n          <div className=\"float-left my-2 mx-3\">\r\n            {interactionButton()}\r\n          </div>\r\n        </>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-header clearfix\">\r\n      {renderHeaderOrForm()}\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fetchPostsByUser, fetchMorePostsByUser, likePost, unlikePost } from '../actions/postsActions'\r\nimport { fetchUser, followUser, unfollowUser } from '../actions/userActions'\r\nimport PostsScrollView from './PostsScrollView'\r\nimport Loading from './Loading'\r\nimport UserHeader from './UserHeader'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass UserContainer extends Component {\r\n  \r\n  componentDidMount() {\r\n    this.props.fetchPostsByUser(this.props.match.params.id)\r\n    this.props.fetchUser(this.props.match.params.id)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.id !== prevProps.match.params.id) {\r\n      this.props.fetchPostsByUser(this.props.match.params.id)\r\n      this.props.fetchUser(this.props.match.params.id)\r\n    }\r\n  }\r\n\r\n  handleFollow = () => {\r\n    if (!this.props.userData.loadingFollow) {\r\n      this.props.followUser(this.props.userData.user.id)\r\n    }\r\n  }\r\n\r\n  handleUnfollow = () => {\r\n    const follow = this.props.currentUserFollows.find(follow => follow.followed_user_id === this.props.userData.user.id)\r\n\r\n    if (!this.props.userData.loadingFollow) {\r\n      this.props.unfollowUser(follow.id)\r\n    }\r\n  }\r\n\r\n  handleLoadMore = () => {\r\n    const { loadingMorePosts, noMorePosts, currentPage } = this.props.postsData\r\n    if (!loadingMorePosts && !noMorePosts) {\r\n      this.props.fetchMorePostsByUser(this.props.match.params.id, currentPage + 1)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { currentUserFollows, currentUserId, postsData, likePost, unlikePost, userData: { loadingUser, userNotFound, user } } = this.props\r\n    if (userNotFound) {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n\r\n    return (\r\n      <div className=\"mx-5 my-4\">\r\n        <div className=\"my-2 row\">\r\n          <div className=\"col-12 col-lg-8\">\r\n          { loadingUser\r\n          ? <Loading/>\r\n          : <UserHeader\r\n              handleFollow={this.handleFollow}\r\n              handleUnfollow={this.handleUnfollow}\r\n              currentUserFollows={currentUserFollows}\r\n              currentUserId={currentUserId}\r\n              user={user}\r\n            />}\r\n            <h3>Posts: </h3>\r\n            { postsData.loadingPosts\r\n            ? <Loading />\r\n            : <PostsScrollView handleLoadMore={this.handleLoadMore} likePost={likePost} unlikePost={unlikePost} postsData={postsData} /> }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postsData: state.postsData,\r\n    userData: state.userData,\r\n    currentUserFollows: state.currentUser.given_follows,\r\n    currentUserId: state.currentUser.id\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPostsByUser, fetchMorePostsByUser, fetchUser, followUser, unfollowUser, likePost, unlikePost })(UserContainer)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { logoutUser } from '../actions/currentUserActions'\r\nimport { fetchWithCredentials } from '../concerns/fetchable'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport NavBar from './NavBar'\r\nimport FeedContainer from './FeedContainer'\r\nimport PostContainer from './PostContainer'\r\nimport UserContainer from './UserContainer'\r\n\r\nclass Dashboard extends Component {\r\n  handleLogout = () => {\r\n    fetchWithCredentials('http://localhost:3001/api/v1/logout', 'DELETE')\r\n    .then(json => {\r\n      if (json.logged_out) {\r\n        this.props.logoutUser()\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavBar handleLogout={this.handleLogout} />\r\n        <div className='mx-lg-5 p-2 h-100 dashboard'>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={FeedContainer} />\r\n            <Route path=\"/posts/:id\" component={PostContainer} />\r\n            <Route path='/users/:id' component={UserContainer} />\r\n            <Route path=\"/:else\" render={() => <Redirect to=\"/\" />} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(null, { logoutUser })(Dashboard)\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { checkLoggedInStatus } from './actions/currentUserActions'\r\nimport Home from './components/Home';\r\nimport Dashboard from './components/Dashboard'\r\nimport Loading from './components/Loading';\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.checkLoggedInStatus()\r\n  }\r\n\r\n  render() {\r\n    const { isLoggedIn, isLoading } = this.props\r\n    const renderedComponent = isLoggedIn ? <Dashboard /> : <Home />\r\n    return (\r\n      <div>\r\n        { isLoading\r\n        ? <Loading />\r\n        : renderedComponent }\r\n        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isLoggedIn: state.isLoggedIn,\r\n    isLoading: state.isLoading,\r\n    user: state.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    checkLoggedInStatus: () => dispatch(checkLoggedInStatus())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { createStore, compose, applyMiddleware } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './index.css';\r\nimport rootReducer from './reducers/rootReducer'\r\nimport App from './App';\r\n\r\nconst store = createStore(rootReducer, compose(applyMiddleware(thunk), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()))\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter basename=\"/nibbl\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}