{"version":3,"sources":["reducers/rootReducer.js","reducers/currentUserReducer.js","reducers/isLoggedInReducer.js","reducers/isLoadingReducer.js","reducers/postsReducer.js","reducers/postReducer.js","reducers/commentsReducer.js","reducers/userReducer.js","reducers/searchReducer.js","reducers/usersToFollowReducer.js","concerns/fetchable.js","actions/currentUserActions.js","components/Welcome.js","components/Login.js","components/SignUp.js","components/Home.js","components/SearchInput.js","components/SearchItem.js","components/SearchItems.js","components/SearchContainer.js","actions/searchActions.js","components/NavBar.js","components/PostButtons.js","components/PostHeader.js","components/Post.js","components/PostsScrollView.js","actions/postsActions.js","components/Loading.js","components/FeedPostForm.js","components/UserToFollow.js","components/UsersToFollowContainer.js","actions/usersToFollowActions.js","components/FeedContainer.js","components/Comment.js","components/CommentsScrollView.js","components/CommentForm.js","components/CommentsContainer.js","actions/commentsActions.js","components/PostContainer.js","actions/postActions.js","components/UserEditForm.js","actions/userActions.js","components/UserHeader.js","components/UserContainer.js","components/Dashboard.js","App.js","index.js"],"names":["combineReducers","currentUser","state","action","type","user","display_name","bio","likes","like","filter","id","given_follows","follow","isLoggedIn","isLoading","postsData","posts","currentPage","loadingLike","loadingPosts","loadingMorePosts","noMorePosts","page","post","map","post_id","postData","postNotFound","loadingPost","commentsData","loadingComments","comments","comment","userData","loadingUser","loadingFollow","userNotFound","followers_count","searchData","isSearching","users","usersToFollowData","fetchWithToken","url","a","method","body","options","headers","localStorage","getItem","JSON","stringify","fetch","response","json","console","log","loginUser","setItem","jwt","Welcome","className","style","fontStyle","to","Component","Login","email","password","error","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","then","logged_in","props","history","push","prevState","this","onSubmit","htmlFor","onChange","placeholder","connect","dispatch","SignUp","username","password_confirmation","errors","onSecondPage","usernameTaken","form","React","createRef","prevProps","username_taken","ref","class","required","Home","exact","path","component","render","SearchInput","SearchItem","onClick","clearSearchBar","SearchItems","zIndex","SearchContainer","search","clearSearch","query","currentUserId","handleLogout","PostButtons","isLiked","find","user_id","unlikePost","length","likePost","postId","PostHeader","time_created_string","currentUserLikes","content","PostsScrollView","prevY","handleScroll","entities","y","boundingClientRect","handleLoadMore","loadMoreArea","observer","IntersectionObserver","root","rootMargin","threshold","observe","loadingRef","key","likeId","Loading","FeedPostForm","invalidForm","reportValidity","createPost","noValidate","maxLength","UserToFollow","currentUserFollows","followUser","unfollowUser","handleUnfollow","followed_user_id","UsersToFollowContainer","fetchUsersToFollow","userId","followId","FeedContainer","filterPosts","includes","fetchMoreFeed","fetchFeed","Comment","deleteButton","destroyComment","CommentsScrollView","CommentForm","createComment","CommentsContainer","fetchComments","status","commentId","PostContainer","fetchPost","match","params","UserEditForm","displayName","updateUser","setIsEditing","data","UserHeader","useState","isEditing","handleFollow","isFollowed","isCurrentUser","followings_count","UserContainer","fetchMorePostsByUser","fetchPostsByUser","fetchUser","Dashboard","logoutUser","removeItem","App","checkLoggedInStatus","renderedComponent","store","createStore","rootReducer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.4fda3cbd.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\r\nimport currentUser from './currentUserReducer'\r\nimport isLoggedIn from './isLoggedInReducer'\r\nimport isLoading from './isLoadingReducer'\r\nimport postsData from './postsReducer'\r\nimport postData from './postReducer'\r\nimport commentsData from './commentsReducer'\r\nimport userData from './userReducer'\r\nimport searchData from './searchReducer'\r\nimport usersToFollowData from './usersToFollowReducer'\r\n\r\nexport default combineReducers({\r\n  currentUser,\r\n  isLoggedIn,\r\n  isLoading,\r\n  postsData,\r\n  postData,\r\n  commentsData,\r\n  userData,\r\n  searchData,\r\n  usersToFollowData\r\n})","export default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_CURRENT_USER':\r\n      return state\r\n    case 'LOGIN_USER':\r\n      return action.user\r\n    case 'UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        display_name: action.user.display_name,\r\n        bio: action.user.bio\r\n      }\r\n    case 'LIKE_POST':\r\n      return {\r\n        ...state,\r\n        likes: [...state.likes, action.like]\r\n      }\r\n    case 'LIKE_SINGLE_POST':\r\n      return {\r\n        ...state,\r\n        likes: [...state.likes, action.like]\r\n      }\r\n    case 'UNLIKE_POST':\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(like => like.id !== action.like.id)\r\n      }\r\n    case 'UNLIKE_SINGLE_POST':\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(like => like.id !== action.like.id)\r\n      }\r\n    case 'FOLLOW_USER':\r\n      return {\r\n        ...state,\r\n        given_follows: [...state.given_follows, action.follow]\r\n      }\r\n    case 'UNFOLLOW_USER':\r\n      return {\r\n        ...state,\r\n        given_follows: state.given_follows.filter(follow => follow.id !== action.id)\r\n      }\r\n    case 'LOGOUT_USER':\r\n      return {}\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = false, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_CURRENT_USER':\r\n      return state\r\n    case 'LOGIN_USER':\r\n      return true\r\n    case 'LOGOUT_USER':\r\n      return false\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = true, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_CURRENT_USER':\r\n      return true\r\n    case 'LOGIN_USER':\r\n      return false\r\n    case 'LOGOUT_USER':\r\n      return false\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  posts: [],\r\n  currentPage: 0,\r\n  loadingLike: false,\r\n  loadingPosts: false,\r\n  loadingMorePosts: false,\r\n  noMorePosts: false\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingPosts: true\r\n      }\r\n    case 'LOADING_MORE_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingMorePosts: true\r\n      }\r\n    case 'SET_POSTS':\r\n      return  {\r\n        ...state,\r\n        currentPage: 0,\r\n        posts: action.posts,\r\n        loadingPosts: false,\r\n        loadingMorePosts: false,\r\n        noMorePosts: false\r\n      }\r\n    case 'ADD_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingMorePosts: false,\r\n        currentPage: action.page,\r\n        posts: [...state.posts, ...action.posts]\r\n      }\r\n    case 'ADD_POST':\r\n      return {\r\n        ...state,\r\n        posts: [ action.post, ...state.posts ]\r\n      }\r\n    case 'LOADING_LIKE':\r\n      return {\r\n        ...state,\r\n        loadingLike: true,\r\n        posts: [ ...state.posts ]\r\n      }\r\n    case 'LIKE_POST':\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map(post => {\r\n          if (post.id === action.id) {\r\n            return {\r\n              ...post,\r\n              user: { ...post.user },\r\n              likes: [...post.likes, action.like]\r\n            }\r\n          } else {\r\n            return post\r\n          }\r\n        }),\r\n        loadingLike: false,\r\n      }\r\n    case 'UNLIKE_POST':\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map(post => {\r\n          if (post.id === action.like.post_id) {\r\n            return {\r\n              ...post,\r\n              user: { ...post.user },\r\n              likes: post.likes.filter(like => like.id !== action.like.id)\r\n            }\r\n          } else {\r\n            return post\r\n          }\r\n        }),\r\n        loadingLike: false\r\n      }\r\n    case 'NO_MORE_POSTS':\r\n      return {\r\n        ...state,\r\n        loadingMorePosts: false,\r\n        noMorePosts: true\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  postNotFound: false,\r\n  loadingLike: false,\r\n  loadingPost: true,\r\n  post: {}\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_POST':\r\n      return {\r\n        loadingPost: true,\r\n        loadingLike: false,\r\n        postNotFound: false,\r\n        post: state.post\r\n      }\r\n    case 'SET_POST':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: action.post\r\n      }\r\n    case 'LOADING_SINGLE_LIKE':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: true,\r\n        loadingPost: false,\r\n        post: {\r\n            ...state.post,\r\n            user: { ...state.post.user },\r\n            likes: [...state.post.likes]\r\n          }\r\n        }\r\n    case 'LIKE_SINGLE_POST':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: {\r\n          ...state.post,\r\n          user: { ...state.post.user },\r\n          likes: [...state.post.likes, action.like]\r\n        }\r\n      }\r\n    case 'UNLIKE_SINGLE_POST':\r\n      return {\r\n        postNotFound: false,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: {\r\n          ...state.post,\r\n          user: { ...state.post.user },\r\n          likes: state.post.likes.filter(like => like.id !== action.like.id)\r\n        }\r\n      }\r\n    case 'POST_NOT_FOUND':\r\n      return {\r\n        postNotFound: true,\r\n        loadingLike: false,\r\n        loadingPost: false,\r\n        post: {}\r\n      }\r\n     default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  loadingComments: true,\r\n  comments: []\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_COMMENTS':\r\n      return {\r\n        loadingComments: true,\r\n        comments: [...state.comments]\r\n      }\r\n    case 'SET_COMMENTS':\r\n      return {\r\n        loadingComments: false,\r\n        comments: action.comments\r\n      }\r\n    case 'ADD_COMMENT':\r\n      return {\r\n        loadingComments: false,\r\n        comments: [action.comment, ...state.comments]\r\n      }\r\n    case 'DELETE_COMMENT':\r\n      return {\r\n        loadingComments: false,\r\n        comments: state.comments.filter(comment => comment.id !== action.id)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  loadingUser: true,\r\n  loadingFollow: false,\r\n  userNotFound: false,\r\n  user: {}\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING_USER':\r\n      return {\r\n        ...state,\r\n        loadingUser: true,\r\n        user: state.user\r\n      }\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        loadingUser: false,\r\n        user: action.user\r\n      }\r\n    case 'UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        loadingUser: false,\r\n        user: {\r\n          ...state.user,\r\n          display_name: action.user.display_name,\r\n          bio: action.user.bio\r\n        }\r\n      }\r\n    case 'LOADING_FOLLOW':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: true,\r\n        userNotFound: false,\r\n        user: state.user\r\n      }\r\n    case 'SET_FOLLOW':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: false,\r\n        userNotFound: false,\r\n        user: {\r\n          ...state.user,\r\n          followers_count: state.user.followers_count + 1\r\n        }\r\n      }\r\n    case 'SET_UNFOLLOW':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: false,\r\n        userNotFound: false,\r\n        user: {\r\n          ...state.user,\r\n          followers_count: state.user.followers_count - 1\r\n        }\r\n      }\r\n    case 'USER_NOT_FOUND':\r\n      return {\r\n        loadingUser: false,\r\n        loadingFollow: false,\r\n        userNotFound: true,\r\n        user: state.user\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  isSearching: false,\r\n  users: []\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'SET_SEARCH':\r\n      return {\r\n        isSearching: true,\r\n        users: action.users\r\n      }\r\n    case 'CLEAR_SEARCH':\r\n      return {\r\n        isSearching: false,\r\n        users: []\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state = {\r\n  users: []\r\n}, action) => {\r\n  switch (action.type) {\r\n    case 'SET_USERS_TO_FOLLOW':\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","async function fetchWithToken(url, method = 'GET', body = {}) {\r\n  const options = {\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('token')}` \r\n    }\r\n  }\r\n\r\n  if (method !== 'GET') {\r\n      options.body = JSON.stringify(body)\r\n      options.headers['Content-Type'] = 'application/json'\r\n      options.method = method\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(url, options)\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchWithToken\r\n}","import { fetchWithToken } from '../concerns/fetchable'\r\n\r\nconst checkLoggedInStatus = () => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_CURRENT_USER'})\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/logged_in')\r\n    .then(json => {\r\n      if (json.logged_in) {\r\n        dispatch({type: 'LOGIN_USER', user: json.user})\r\n      } else {\r\n        dispatch({type: 'LOGOUT_USER'})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst loginUser = json => {\r\n  localStorage.setItem('token', json.jwt)\r\n  return {type: 'LOGIN_USER', user: json.user}\r\n}\r\n\r\nconst logoutUser = () => {\r\n  localStorage.removeItem('token')\r\n  return {type: 'LOGOUT_USER'}\r\n}\r\n\r\nexport {\r\n  checkLoggedInStatus,\r\n  loginUser,\r\n  logoutUser\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom' \r\n\r\nexport default class Welcome extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex flex-column justify-content-center m-5\">\r\n        <h1>Welcome To NibbL</h1>\r\n        <p style={{fontStyle: 'italic'}}>Lets Keep It Short</p>\r\n        <div className=\"btn-group\">\r\n          <Link className=\"link-button\" to=\"/login\">Login</Link>\r\n          <Link className=\"link-button\" to=\"/signup\">Sign Up</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { fetchWithToken } from '../concerns/fetchable'\r\nimport { loginUser } from '../actions/currentUserActions'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    error: ''\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/login', 'POST', {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    })\r\n    .then(json => {\r\n      if (json.logged_in) {\r\n        this.props.loginUser(json)\r\n        this.props.history.push('/')\r\n      } else {\r\n        this.setState(prevState => {\r\n          return { ...prevState, error: json.error }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { email, password, error} = this.state\r\n    return (\r\n      <div className=\"registration w-25 p-4 mx-auto my-4\">\r\n        <h3>Login</h3>\r\n        { error ? <p className=\"error\">{error}</p> : null }\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email: </label>\r\n            <input onChange={this.handleChange} type=\"email\" name=\"email\" value={email} placeholder=\"Enter Email\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password: </label>\r\n            <input onChange={this.handleChange} type=\"password\" name=\"password\" value={password} placeholder=\"Enter Password\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <button type=\"submit\" className=\"btn form-btn\">Login</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loginUser: user => dispatch(loginUser(user))\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login)\r\n","import React, { Component } from 'react'\r\nimport { fetchWithToken } from '../concerns/fetchable'\r\nimport { loginUser } from '../actions/currentUserActions'\r\nimport { connect } from 'react-redux'\r\n\r\nclass SignUp extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      password_confirmation: '',\r\n      display_name: '',\r\n      bio: '',\r\n      errors: [],\r\n      usernameTaken: false\r\n    }\r\n    this.form = React.createRef()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.username !== this.state.username) {\r\n      fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/users/exists?username=${this.state.username}`)\r\n      .then(json => {\r\n        this.setState({\r\n          usernameTaken: json.username_taken\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    const user = {\r\n      username: this.state.username,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      password_confirmation: this.state.password_confirmation,\r\n      display_name: this.state.display_name,\r\n      bio: this.state.bio\r\n    }\r\n\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/users', 'POST', {user})\r\n    .then(json => {\r\n      if (json.logged_in) {\r\n        this.props.loginUser(json)\r\n        this.props.history.push('/')\r\n      } else {\r\n        this.setState(prevState => {\r\n          return { ...prevState, errors: json.errors, onSecondPage: false }\r\n        })\r\n      }\r\n    })\r\n    // const formData = new FormData(this.form.current)\r\n\r\n    // fetch('https://powerful-springs-89951.herokuapp.com/api/v1/users', {\r\n    //   method: 'POST',\r\n    //   credentials: 'include',\r\n    //   body: formData\r\n    // })\r\n  }\r\n\r\n  render() {\r\n    const { username, email, display_name, password, password_confirmation, bio, usernameTaken} = this.state\r\n    return (\r\n      <div>\r\n        <form ref={this.form} className=\"d-flex justify-content-center flex-row\" onSubmit={this.handleSubmit}>\r\n          <div className=\"registration w-50 p-4 mx-2 my-4\">\r\n            <h3>Sign Up</h3>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"username\">Username: </label>\r\n                <div className=\"input-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\">@</span>\r\n                  </div>\r\n                  <input onChange={this.handleChange} type=\"text\" name=\"username\" value={username} placeholder=\"Enter Username\" className={`form-control p-2 ${usernameTaken ? 'is-invalid' : null}`} required/>\r\n                </div>\r\n                {usernameTaken ? <small>Username Taken</small> : null}\r\n              </div>\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"email\">Email: </label>\r\n                <input onChange={this.handleChange} type=\"email\" name=\"email\" value={email} placeholder=\"Enter Email\" className=\"form-control p-2\" required />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"password\">Password: </label>\r\n                <input onChange={this.handleChange} type=\"password\" name=\"password\" value={password} placeholder=\"Enter Password\" className=\"form-control p-2\" required/>\r\n              </div>\r\n              <div className=\"form-group col-6\">\r\n                <label htmlFor=\"password_confirmation\">Password Confirmation: </label>\r\n                <input onChange={this.handleChange} type=\"password\" name=\"password_confirmation\" value={password_confirmation} placeholder=\"Enter Password Confirmation\" className=\"form-control p-2\" required />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btn btn-secondary\" value=\"Sign Up\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"registration w-25 p-4 mx-2 my-4\">\r\n            <h3>Personal Info</h3>\r\n            <div className=\"form-group\">\r\n              <label>Display Name: </label>\r\n              <input onChange={this.handleChange} type=\"text\" name=\"display_name\" value={display_name} className=\"form-control p-2\" />\r\n              <small>This is separate from your username and can be changed later.</small>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Bio: </label>\r\n              <textarea onChange={this.handleChange} name=\"bio\" value={bio} className=\"form-control p-2\" />\r\n            </div>\r\n            {/* <div className=\"form-group\">\r\n              <label>Bio: </label>\r\n              <input type=\"file\" name=\"avatar\" className=\"form-control-file p-2\" />\r\n            </div> */}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loginUser: user => dispatch(loginUser(user))\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUp)\r\n","import React, { Component } from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport Welcome from './Welcome'\r\nimport Login from './Login'\r\nimport SignUp from './SignUp'\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"jumbotron jumbotron-fluid my-5\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Welcome} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <Route path=\"/:else\" render={() => <Redirect to=\"/\" />} />\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class SearchInput extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input onChange={e => this.props.handleChange(e.target.value)} value={this.props.value} type=\"text\" className=\"form-control p-2\" placeholder=\"Search\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function SearchItem(props) {\r\n  const { user } = props\r\n  return (\r\n    <li className=\"list-group-item\">\r\n      <Link onClick={() => props.clearSearchBar()} to={`/users/${user.id}`}>\r\n        <span><strong>{user.display_name}</strong> <small>@{user.username}</small></span>\r\n      </Link>\r\n    </li>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport SearchItem from './SearchItem'\r\n\r\nexport default function SearchItems(props) {\r\n  const { users } = props.searchData\r\n  return (\r\n    <div style={{zIndex: 1}} className=\"position-absolute\">\r\n      <ul className='list-group'>\r\n        {users.map(user => (\r\n          <SearchItem clearSearchBar={props.clearSearchBar} user={user} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { search, clearSearch } from '../actions/searchActions'\r\nimport SearchInput from './SearchInput'\r\nimport SearchItems from './SearchItems'\r\n\r\nclass SearchContainer extends Component {\r\n  state = {\r\n    value: ''\r\n  }\r\n\r\n  handleChange = value => {\r\n    if (value) {\r\n      this.props.search(value)\r\n    } else {\r\n      this.props.clearSearch()\r\n    }\r\n    \r\n    this.setState({\r\n      value\r\n    })\r\n  }\r\n\r\n  clearSearchBar = () => {\r\n    this.setState({\r\n      value: ''\r\n    })\r\n    this.props.clearSearch()\r\n  }\r\n\r\n  render() {\r\n    const { searchData } = this.props\r\n    return (\r\n      <div className=\"position-relative float-right mx-2\">\r\n        <SearchInput value={this.state.value} handleChange={this.handleChange} />\r\n        <SearchItems clearSearchBar={this.clearSearchBar} searchData={searchData} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    searchData: state.searchData\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { search, clearSearch })(SearchContainer)\r\n","import { fetchWithToken } from '../concerns/fetchable'\r\n\r\nconst search = query => {\r\n  return dispatch => {\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/users/search?query=${query}`)\r\n    .then(json => dispatch({type: 'SET_SEARCH', users: json}))\r\n  }\r\n}\r\n\r\nconst clearSearch = () => {\r\n  return {type: 'CLEAR_SEARCH'}\r\n}\r\n\r\nexport {\r\n  search,\r\n  clearSearch\r\n}","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport SearchContainer from './SearchContainer'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction NavBar(props) {\r\n  return (\r\n    <header className=\"p-2 px-4 mynavbar\">\r\n      <div className=\"clearfix\">\r\n        <button onClick={() => props.handleLogout()} className='btn btn-outline-dark'>Logout</button>\r\n        <NavLink exact to=\"/\" className=\"float-right mx-1 btn btn-outline-dark\">Feed</NavLink>\r\n        <NavLink to={`/users/${props.currentUserId}`} className=\"float-right mx-1 btn btn-outline-dark\">Profile</NavLink>\r\n        <SearchContainer />\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserId: state.currentUser.id\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(NavBar)\r\n","import React from 'react'\r\n\r\nexport default function PostButtons(props) {\r\n  const handleLike = () => {\r\n    if (!props.loadingLike) {\r\n      props.likePost(props.postId)\r\n    }\r\n  }\r\n\r\n  const handleUnlike = () => {\r\n    const like = props.likes.find(like => like.user_id === props.currentUserId)\r\n    if (!props.loadingLike) {\r\n      props.unlikePost(like.id)\r\n    }\r\n  }\r\n\r\n  if (props.isLiked) {\r\n    return (\r\n      <div className='post-buttons p-2'>\r\n        <button onClick={handleUnlike} className=\"btn post-button liked\">Unlike {props.likes.length}</button>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className='post-buttons p-2'>\r\n        <button onClick={handleLike} className=\"btn post-button unliked\">Like {props.likes.length}</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function PostHeader(props) {\r\n  const { time_created_string, user: { id, display_name, username } } = props\r\n  return (\r\n    <div className=\"clearfix post-header h-25\">\r\n      <div className=\"float-left mx-2\">\r\n        <Link to={`/users/${id}`}>\r\n          <h5>\r\n            {display_name}\r\n            <small>{` @${username}`}</small>\r\n            <br />\r\n            <small>{time_created_string}</small>\r\n          </h5>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport PostButtons from './PostButtons'\r\nimport { connect } from 'react-redux'\r\nimport PostHeader from './PostHeader'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Post(props) {\r\n  const { currentUserId, currentUserLikes, loadingLike, likePost, unlikePost, post: { id, content, time_created_string, user, likes } } = props\r\n  const isLiked = !!currentUserLikes.find(like => like.post_id === id)\r\n  \r\n  return (\r\n    <div className=\"post container my-2 p-3 px-4 border\">\r\n        <PostHeader user={user} time_created_string={time_created_string} />\r\n        <Link to={`/posts/${id}`}>\r\n          <div className=\"post-body p-2 rounded\">\r\n            <p>{content}</p>\r\n          </div>\r\n        </Link>\r\n        <PostButtons\r\n          currentUserId={currentUserId}\r\n          postId={id}\r\n          loadingLike={loadingLike}\r\n          likes={likes}\r\n          likePost={likePost}\r\n          unlikePost={unlikePost}\r\n          isLiked={isLiked}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserId: state.currentUser.id,\r\n    currentUserLikes: state.currentUser.likes\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(Post)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Post from './Post'\r\nimport { likePost, unlikePost } from '../actions/postsActions'\r\n\r\nclass PostsScrollView extends Component {\r\n\r\n  state = {\r\n    prevY: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const options = {\r\n      root: null,\r\n      rootMargin: \"0px\",\r\n      threshold: 0.5\r\n    };\r\n\r\n    this.observer = new IntersectionObserver(\r\n      this.handleScroll,\r\n      options\r\n    );\r\n\r\n    this.observer.observe(this.loadingRef);\r\n  }\r\n\r\n  handleScroll = (entities) => {\r\n    const y = entities[0].boundingClientRect.y;\r\n    if (this.state.prevY > y) {\r\n      this.props.handleLoadMore()\r\n    }\r\n\r\n    this.setState({ prevY: y })\r\n  }\r\n\r\n  loadMoreArea = () => {\r\n    const { loadingMorePosts, noMorePosts } = this.props.postsData\r\n    if ( noMorePosts ) {\r\n      return <h3 className=\"text-center\">No More Posts</h3>\r\n    } else if (loadingMorePosts) {\r\n      return <h3>Loading...</h3>\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    const { likePost, unlikePost, posts, loadingLike } = this.props\r\n    return (\r\n      <div>\r\n        <div className=\"d-flex flex-column rounded posts\">\r\n          { posts.map(post => (\r\n            <Post likePost={likePost} unlikePost={unlikePost} loadingLike={loadingLike} key={post.id} post={post} />\r\n          )) }\r\n        </div>\r\n        <div className='mt-2 p-1' ref={loadingRef => this.loadingRef = loadingRef}>\r\n          {this.loadMoreArea()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(null, { likePost, unlikePost })(PostsScrollView)\r\n\r\n","import { fetchWithToken } from '../concerns/fetchable'\r\n\r\nconst fetchFeed = () => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_POSTS'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/posts?page=0`)\r\n    .then(json => {\r\n      dispatch({type: 'SET_POSTS', posts: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst fetchMoreFeed = page => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_MORE_POSTS'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/posts?page=${page}`)\r\n    .then(json => {\r\n      if (json.length === 0) {\r\n        dispatch({type: 'NO_MORE_POSTS'})\r\n      } else {\r\n        dispatch({type: 'ADD_POSTS', posts: json, page})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst fetchPostsByUser = (userId) => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_POSTS'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/posts?page=0&user_id=${userId}`)\r\n    .then(json => {\r\n      dispatch({type: 'SET_POSTS', posts: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst fetchMorePostsByUser = (userId, page) => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_MORE_POSTS'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/posts?page=${page}&user_id=${userId}`)\r\n    .then(json => {\r\n      if (json.length === 0) {\r\n        dispatch({type: 'NO_MORE_POSTS'})\r\n      } else {\r\n        dispatch({type: 'ADD_POSTS', posts: json, page})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst createPost = content => {\r\n  return dispatch => {\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/posts', 'POST', {\r\n      post: {\r\n        content\r\n      }\r\n    })\r\n    .then(json => {\r\n        if (!json.errors) {\r\n        dispatch({type: 'ADD_POST', post: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst likePost = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_LIKE'})\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/likes', 'POST', { post_id: postId })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'LIKE_POST', id: json.post_id, like: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unlikePost = likeId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_LIKE'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/likes/${likeId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'UNLIKE_POST', like: json})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchFeed,\r\n  fetchMoreFeed,\r\n  fetchPostsByUser,\r\n  fetchMorePostsByUser,\r\n  likePost,\r\n  unlikePost,\r\n  createPost\r\n}","import React from 'react'\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"my-5 mx-2\">\r\n      <h1>Loading...</h1>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class FeedPostForm extends Component {\r\n  state = {\r\n    content: '',\r\n    invalidForm: false\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      content: e.target.value,\r\n      invalidForm: false\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    if (e.target.reportValidity()) {\r\n      this.props.createPost(this.state.content)\r\n      this.setState({\r\n        content: ''\r\n      })\r\n    } else {\r\n      this.setState({\r\n        invalidForm: true\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"post-form p-3 my-2 border\">\r\n        <form className={`needs-validation ${this.state.invalidForm ? 'was-validated' : null}`} onSubmit={this.handleSubmit} noValidate >\r\n          <div className=\"form-group\">\r\n            <label>Content: </label>\r\n            <textarea required maxLength={30} value={this.state.content} onChange={this.handleChange} className=\"form-control p-3\" placeholder=\"Make a post!\" />\r\n            <small>Characters Left: {30 - this.state.content.length}</small>\r\n            <div className=\"invalid-feedback\"> \r\n              Invalid Post\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"submit\" value=\"Post\" className=\"btn btn-primary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function UserToFollow(props) {\r\n  const {user, currentUserFollows, followUser, unfollowUser} = props\r\n\r\n  const handleUnfollow = () => {\r\n    const follow = currentUserFollows.find(follow => follow.followed_user_id === user.id)\r\n    unfollowUser(follow.id)\r\n  }\r\n\r\n  const followButton = () => {\r\n    if (currentUserFollows.find(follow => follow.followed_user_id === user.id)) {\r\n      return <button onClick={handleUnfollow} className=\"btn btn-sm btn-outline-secondary d-inline mx-2\">Unfollow</button>\r\n    } else {\r\n      return <button onClick={() => followUser(user.id)} className=\"btn btn-sm btn-outline-secondary d-inline mx-2\">Follow</button>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className=\"list-group-item\">\r\n      <Link to={`/users/${user.id}`}>\r\n        <span><strong>{user.display_name}</strong> <small>@{user.username}</small></span>\r\n      </Link>\r\n       {followButton()}\r\n    </li>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fetchUsersToFollow, followUser, unfollowUser } from '../actions/usersToFollowActions'\r\nimport UserToFollow from './UserToFollow'\r\n\r\nclass UsersToFollowContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchUsersToFollow()\r\n  }\r\n\r\n  render() {\r\n    const { usersToFollowData, currentUserFollows, followUser, unfollowUser } = this.props\r\n    return (\r\n      <div className=\"p-3 users-to-follow\">\r\n        <h4>Users To Follow: </h4>\r\n        <ul className=\"list-group\">\r\n          {usersToFollowData.users.map(user => (\r\n            <UserToFollow\r\n              key={user.id}\r\n              followUser={followUser}\r\n              unfollowUser={unfollowUser}\r\n              currentUserFollows={currentUserFollows}\r\n              user={user}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserFollows: state.currentUser.given_follows,\r\n    usersToFollowData: state.usersToFollowData\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {fetchUsersToFollow, followUser, unfollowUser})(UsersToFollowContainer)\r\n","import { fetchWithToken } from '../concerns/fetchable'\r\n\r\nconst fetchUsersToFollow = () => {\r\n  return dispatch => {\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/users/to_follow')\r\n    .then(json => {\r\n      dispatch({type: 'SET_USERS_TO_FOLLOW', users: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst followUser = userId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/follows', 'POST', { \r\n      follow: { followed_user_id: userId } \r\n    })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'FOLLOW_USER', follow: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unfollowUser = followId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/follows/${followId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'UNFOLLOW_USER', id: json.id})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchUsersToFollow,\r\n  followUser,\r\n  unfollowUser\r\n}","import React, { Component } from 'react'\r\nimport PostsScrollView from './PostsScrollView'\r\nimport { fetchFeed, fetchMoreFeed, createPost } from '../actions/postsActions'\r\nimport { connect } from 'react-redux'\r\nimport Loading from './Loading'\r\nimport FeedPostForm from './FeedPostForm'\r\nimport UsersToFollowContainer from './UsersToFollowContainer'\r\n\r\nclass FeedContainer extends Component {\r\n  state = {\r\n    query: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchFeed()\r\n  }\r\n\r\n  filterPosts = () => {\r\n    const { posts } = this.props.postsData\r\n    return posts.filter(post => post.content.includes(this.state.query))\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value\r\n    })\r\n  }\r\n\r\n  handleLoadMore = () => {\r\n    const { loadingMorePosts, noMorePosts, currentPage } = this.props.postsData\r\n    if (!loadingMorePosts && !noMorePosts) {\r\n      this.props.fetchMoreFeed(currentPage + 1)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loadingPosts, createPost } = this.props\r\n    return (\r\n      <div className=\"mx-5 my-2\">\r\n        <h1>Feed</h1>\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-lg-8\">\r\n            <FeedPostForm createPost={createPost} />\r\n            <form>\r\n              <input type=\"text\" onChange={this.handleChange} value={this.state.query} className=\"form-control\" />\r\n            </form>\r\n            { loadingPosts\r\n            ? <Loading />\r\n            : <PostsScrollView handleLoadMore={this.handleLoadMore} posts={this.filterPosts()} postsData={this.props.postsData} /> }\r\n            \r\n          </div>\r\n          <div className=\"d-none d-lg-block col-lg-4\"> \r\n            <UsersToFollowContainer />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postsData: state.postsData,\r\n    loadingPosts: state.postsData.loadingPosts\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchFeed, fetchMoreFeed, createPost })(FeedContainer)\r\n","import React from 'react'\r\n\r\nexport default function Comment(props) {\r\n  const { destroyComment, currentUserId, comment: {id, body, user_id, user: {display_name, username}} } = props\r\n  let deleteButton\r\n  if (currentUserId === user_id) {\r\n    deleteButton = (<div className='buttons float-right'>\r\n      <button onClick={() => destroyComment(id)} className=\"btn btn-sm btn-danger\">Delete</button>\r\n    </div>)\r\n  } else {\r\n    deleteButton = null\r\n  }\r\n  return (\r\n    <div className=\"comment p-2 my-2\">\r\n      {deleteButton}\r\n      <div>\r\n        <h5>{display_name} <small>{`@${username}`}</small></h5>\r\n      </div>\r\n      <p>{body}</p>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Comment from './Comment'\r\n\r\nexport default function CommentsScrollView(props) {\r\n  return (\r\n    <div className=\"comments d-flex flex-column\">\r\n      {props.comments.map(comment => (\r\n        <Comment destroyComment={props.destroyComment} currentUserId={props.currentUserId} comment={comment} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class CommentForm extends Component {\r\n  state = {\r\n    body: ''\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      body: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.props.createComment(this.props.postId, this.state.body)\r\n    this.setState({\r\n      body: ''\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"post-form rounded p-3 my-2 border\">\r\n        <h3>Comment</h3>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <input value={this.state.body} type=\"text\" onChange={this.handleChange} className=\"form-control p-1\" required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"submit\" value=\"Submit\" className=\"btn btn-primary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fetchComments, createComment, destroyComment } from '../actions/commentsActions'\r\nimport CommentsScrollView from './CommentsScrollView'\r\nimport Loading from './Loading'\r\nimport CommentForm from './CommentForm'\r\n\r\nclass CommentsContainer extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.fetchComments(this.props.postId)\r\n  }\r\n\r\n  render() {\r\n    const { currentUserId, postId, createComment, destroyComment, loadingComments, comments } = this.props\r\n    if (loadingComments) {\r\n      return <Loading />\r\n    }\r\n    return (\r\n      <div>\r\n        <CommentForm postId={postId} createComment={createComment} />\r\n        <CommentsScrollView destroyComment={destroyComment} currentUserId={currentUserId} comments={comments} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUserId: state.currentUser.id,\r\n    loadingComments: state.commentsData.loadingComments,\r\n    comments: state.commentsData.comments\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchComments, createComment, destroyComment })(CommentsContainer)\r\n","import { fetchWithToken } from '../concerns/fetchable'\r\n\r\nconst fetchComments = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_COMMENTS'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/comments?post_id=${postId}`)\r\n    .then(json => {\r\n      dispatch({type: 'SET_COMMENTS', comments: json})\r\n    })\r\n  }\r\n}\r\n\r\nconst createComment = (postId, body) => {\r\n  return dispatch => {\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/comments', 'POST', {\r\n      comment: {\r\n        post_id: postId,\r\n        body\r\n      }\r\n    })\r\n    .then(json => {\r\n      if (json.status === 200) {\r\n        dispatch({type: 'ADD_COMMENT', comment: json.comment})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst destroyComment = commentId => {\r\n  return dispatch => {\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/comments/${commentId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'DELETE_COMMENT', id: json.id})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchComments,\r\n  createComment,\r\n  destroyComment\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { fetchPost, likePost, unlikePost } from '../actions/postActions'\r\nimport Post from './Post'\r\nimport Loading from './Loading'\r\nimport CommentsContainer from './CommentsContainer'\r\n\r\nclass PostContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchPost(this.props.match.params.id)\r\n  }\r\n\r\n  render() {\r\n    const { postNotFound, loadingLike, loadingPost, likePost, unlikePost, post } = this.props\r\n    if ( postNotFound ) {\r\n      return <Redirect to='/' />\r\n    }\r\n    return (\r\n      <div className=\"mx-5 my-2 container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            { loadingPost\r\n            ? <Loading />\r\n            : <Post\r\n                post={post}\r\n                loadingLike={loadingLike}\r\n                likePost={likePost}\r\n                unlikePost={unlikePost}\r\n              />\r\n            }\r\n            <CommentsContainer postId={this.props.match.params.id} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postNotFound: state.postData.postNotFound,\r\n    loadingLike: state.postData.loadingLike,\r\n    loadingPost: state.postData.loadingPost,\r\n    post: state.postData.post,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPost, likePost, unlikePost })(PostContainer)\r\n","import { fetchWithToken } from '../concerns/fetchable'\r\n\r\nconst fetchPost = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_POST'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/posts/${postId}`)\r\n    .then(json => {\r\n      if (json.status === 404) {\r\n        dispatch({type: 'POST_NOT_FOUND'})\r\n      } else {\r\n        dispatch({type: 'SET_POST', post: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst likePost = postId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_SINGLE_LIKE'})\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/likes', 'POST', { post_id: postId })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'LIKE_SINGLE_POST', id: json.post_id, like: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unlikePost = likeId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_SINGLE_LIKE'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/likes/${likeId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'UNLIKE_SINGLE_POST', like: json})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchPost,\r\n  likePost,\r\n  unlikePost\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../actions/userActions'\r\n\r\nclass UserEditForm extends Component {\r\n  state = {\r\n    displayName: this.props.user.display_name,\r\n    bio: this.props.user.bio\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.props.updateUser(this.props.user.id, this.state)\r\n    this.props.setIsEditing(false)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"clearfix\">\r\n          <h1 className=\"float-left\">Edit</h1>\r\n          <button onClick={() => this.props.setIsEditing(false)} className=\"btn btn-danger float-right\">Cancel</button>\r\n        </div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Display Name: </label>\r\n            <input onChange={this.handleChange} value={this.state.displayName} type=\"text\" name=\"displayName\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Bio: </label>\r\n            <textarea onChange={this.handleChange} value={this.state.bio} name=\"bio\" className=\"form-control p-2\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"submit\" value=\"Save\" className=\"btn btn-secondary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(null, {updateUser})(UserEditForm)\r\n","import { fetchWithToken } from '../concerns/fetchable'\r\n\r\nconst fetchUser = userId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_USER'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/users/${userId}`)\r\n    .then(json => {\r\n      if (json.status === 404) {\r\n        dispatch({type: 'USER_NOT_FOUND'})\r\n      } else {\r\n        dispatch({type: 'SET_USER', user: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst updateUser = (userId, data) => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_USER'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/users/${userId}`, 'PATCH', {\r\n      user: {\r\n        display_name: data.displayName,\r\n        bio: data.bio\r\n      }\r\n    })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'UPDATE_USER', user: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst followUser = userId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithToken('https://powerful-springs-89951.herokuapp.com/api/v1/follows', 'POST', { \r\n      follow: { followed_user_id: userId } \r\n    })\r\n    .then(json => {\r\n      if (!json.errors) {\r\n        dispatch({type: 'SET_FOLLOW'})\r\n        dispatch({type: 'FOLLOW_USER', follow: json})\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst unfollowUser = followId => {\r\n  return dispatch => {\r\n    dispatch({type: 'LOADING_FOLLOW'})\r\n    fetchWithToken(`https://powerful-springs-89951.herokuapp.com/api/v1/follows/${followId}`, 'DELETE')\r\n    .then(json => {\r\n      dispatch({type: 'SET_UNFOLLOW'})\r\n      dispatch({type: 'UNFOLLOW_USER', id: json.id})\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  fetchUser,\r\n  updateUser,\r\n  followUser,\r\n  unfollowUser\r\n}","import React, { useState } from 'react'\r\nimport UserEditForm from './UserEditForm'\r\n\r\nexport default function UserHeader(props) {\r\n  const [ isEditing, setIsEditing ] = useState(false)\r\n\r\n  const { handleFollow, handleUnfollow, currentUserFollows, currentUserId, user } = props\r\n\r\n  const isFollowed = !!currentUserFollows.find(follow => follow.followed_user_id === user.id)\r\n  const isCurrentUser = (currentUserId === user.id)\r\n\r\n  const interactionButton = () => {\r\n    if (isCurrentUser) {\r\n      return <button onClick={() => setIsEditing(true)} className=\"btn btn-secondary\">Edit Profile</button>\r\n    } else {\r\n      if (isFollowed) {\r\n        return <button onClick={handleUnfollow} className=\"btn btn-secondary\">Unfollow</button>\r\n      } else {\r\n        return <button onClick={handleFollow} className=\"btn btn-secondary\">Follow</button>\r\n      }\r\n    }\r\n  }\r\n\r\n  const renderHeaderOrForm = () => {\r\n    if (isEditing) {\r\n      return <UserEditForm setIsEditing={setIsEditing} user={user} />\r\n    } else {\r\n      return (\r\n        <>\r\n          <div className=\"user-bio float-left\">\r\n            <h1>{user.display_name} <small>@{user.username}</small></h1>\r\n            <p>{user.bio}</p>\r\n            <span className='d-inline-block mr-2'>Followers: {user.followers_count}</span>\r\n            <span className='d-inline-block mr-2'>Following: {user.followings_count}</span>\r\n          </div>\r\n          <div className=\"float-left my-2 mx-3\">\r\n            {interactionButton()}\r\n          </div>\r\n        </>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-header clearfix\">\r\n      {renderHeaderOrForm()}\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fetchPostsByUser, fetchMorePostsByUser } from '../actions/postsActions'\r\nimport { fetchUser, followUser, unfollowUser } from '../actions/userActions'\r\nimport PostsScrollView from './PostsScrollView'\r\nimport Loading from './Loading'\r\nimport UserHeader from './UserHeader'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass UserContainer extends Component {\r\n  \r\n  componentDidMount() {\r\n    this.props.fetchPostsByUser(this.props.match.params.id)\r\n    this.props.fetchUser(this.props.match.params.id)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.id !== prevProps.match.params.id) {\r\n      this.props.fetchPostsByUser(this.props.match.params.id)\r\n      this.props.fetchUser(this.props.match.params.id)\r\n    }\r\n  }\r\n\r\n  handleFollow = () => {\r\n    if (!this.props.userData.loadingFollow) {\r\n      this.props.followUser(this.props.userData.user.id)\r\n    }\r\n  }\r\n\r\n  handleUnfollow = () => {\r\n    const follow = this.props.currentUserFollows.find(follow => follow.followed_user_id === this.props.userData.user.id)\r\n\r\n    if (!this.props.userData.loadingFollow) {\r\n      this.props.unfollowUser(follow.id)\r\n    }\r\n  }\r\n\r\n  handleLoadMore = () => {\r\n    const { loadingMorePosts, noMorePosts, currentPage } = this.props.postsData\r\n    if (!loadingMorePosts && !noMorePosts) {\r\n      this.props.fetchMorePostsByUser(this.props.match.params.id, currentPage + 1)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { currentUserFollows, currentUserId, postsData, userData: { loadingUser, userNotFound, user } } = this.props\r\n    if (userNotFound) {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n\r\n    return (\r\n      <div className=\"mx-5 my-4\">\r\n        <div className=\"my-2 row\">\r\n          <div className=\"col-12 col-lg-8\">\r\n          { loadingUser\r\n          ? <Loading/>\r\n          : <UserHeader\r\n              handleFollow={this.handleFollow}\r\n              handleUnfollow={this.handleUnfollow}\r\n              currentUserFollows={currentUserFollows}\r\n              currentUserId={currentUserId}\r\n              user={user}\r\n            />}\r\n            <h3>Posts: </h3>\r\n            { postsData.loadingPosts\r\n            ? <Loading />\r\n            : <PostsScrollView handleLoadMore={this.handleLoadMore} postsData={postsData} posts={postsData.posts} /> }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postsData: state.postsData,\r\n    userData: state.userData,\r\n    currentUserFollows: state.currentUser.given_follows,\r\n    currentUserId: state.currentUser.id\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPostsByUser, fetchMorePostsByUser, fetchUser, followUser, unfollowUser })(UserContainer)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { logoutUser } from '../actions/currentUserActions'\r\nimport { fetchWithToken } from '../concerns/fetchable'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport NavBar from './NavBar'\r\nimport FeedContainer from './FeedContainer'\r\nimport PostContainer from './PostContainer'\r\nimport UserContainer from './UserContainer'\r\n\r\nclass Dashboard extends Component {\r\n  handleLogout = () => {\r\n    this.props.logoutUser()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavBar handleLogout={this.handleLogout} />\r\n        <div className='mx-lg-5 p-2 h-100 dashboard'>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={FeedContainer} />\r\n            <Route path=\"/posts/:id\" component={PostContainer} />\r\n            <Route path='/users/:id' component={UserContainer} />\r\n            <Route path=\"/:else\" render={() => <Redirect to=\"/\" />} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(null, { logoutUser })(Dashboard)\r\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { checkLoggedInStatus } from './actions/currentUserActions'\nimport Home from './components/Home';\nimport Dashboard from './components/Dashboard'\nimport Loading from './components/Loading';\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.checkLoggedInStatus()\n  }\n\n  render() {\n    const { isLoggedIn, isLoading } = this.props\n    const renderedComponent = isLoggedIn ? <Dashboard /> : <Home />\n    return (\n      <div>\n        { isLoading\n        ? <Loading />\n        : renderedComponent }\n        \n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLoggedIn: state.isLoggedIn,\n    isLoading: state.isLoading,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkLoggedInStatus: () => dispatch(checkLoggedInStatus())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { createStore, compose, applyMiddleware } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './index.css';\r\nimport rootReducer from './reducers/rootReducer'\r\nimport App from './App';\r\n\r\nconst store = createStore(rootReducer, compose(applyMiddleware(thunk), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()))\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter basename=\"/nibbl\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}